<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Promoções</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/promocoes.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    // Suprimir erros de extensões do Chrome (verifica existência segura)
    if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.onMessage) {
      try {
        chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
          return false;
        });
      } catch (e) {
        // ignorar
      }
    }

    // Suprimir erros de async listener no console
    window.addEventListener('unhandledrejection', (event) => {
      if (event.reason && event.reason.message && event.reason.message.includes('listener indicated an asynchronous response')) {
        event.preventDefault();
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/supabase.min.js"></script>
  <script defer src="scripts/config.js"></script>
  <script defer src="scripts/auth.js"></script>
</head>
<body>
  <div class="stars" id="stars-container"></div>

  <!-- Menu Fixo -->
  <header class="topo-fixo" id="menu-fixo">
    <div class="menu-container">

      <!-- Ícones Esquerda (só no mobile) -->
      <div class="menu-esquerda mobile-apenas">
        <button class="menu-hamburguer" onclick="toggleMenu()">☰
        </button>
        <a href="buscar.html" class="btn-pesquisa" title="Pesquisar">
          <i class="fas fa-search"></i>
        </a>
      </div>

      <!-- Logo Desktop (esquerda) -->
      <div class="logo-titulo desktop-apenas">
        <a href="index.html">
          <img src="logo.png" alt="Logo" class="logo-site" />
        </a>
        <div class="titulos">
          <h1>UNIVERSO DA PRATA</h1>
          <h2 class="submarca">Joel Pratarias</h2>
        </div>
      </div>

      <!-- Logo Mobile (centralizado) -->
      <div class="logo-titulo mobile-apenas">
        <a href="index.html">
          <img src="logo.png" alt="Logo" class="logo-site" />
        </a>
        <div class="titulos">
          <h1>UNIVERSO DA PRATA</h1>
          <h2 class="submarca">Joel Pratarias</h2>
        </div>
      </div>

      <!-- Ícone Carrinho (só no mobile) -->
      <div class="menu-direita mobile-apenas">
        <a href="carrinho.html" class="btn-carrinho" title="Carrinho">
          <i class="fas fa-shopping-bag"></i>
          <span class="carrinho-count">0</span>
        </a>
        <a href="#" id="login-btn-mobile" class="btn-login" title="Entrar">
          <i class="fas fa-user"></i>
        </a>
      </div>

      <!-- Menu de navegação (ativo no desktop, togglável no mobile) -->
      <nav class="menu-navegacao mobile-escondido">
        <a href="index.html">Início</a>
        <a href="categorias.html">Categorias</a>
        <a href="promocoes.html">Promoções</a>
        <a href="sobre.html">Sobre Nós</a>
        <a href="contato.html">Contato</a>
        <a href="buscar.html">Buscar</a>
          <a href="#" id="login-btn">Entrar / Criar conta</a>
        <a href="carrinho.html">Carrinho <span class="carrinho-count">0</span></a>
      </nav>
    </div>
  </header>

  <script src="scripts/carrinho-update.js"></script>

  <!-- CONTEÚDO -->
  <main class="promocoes-container">

    <h1>Promoções Especiais</h1>
    <p class="intro">
      Peças selecionadas com descontos exclusivos para você ✨
    </p>

    <!-- GRELHA DE PROMOÇÕES -->
    <div class="cards-promocoes">

      <!-- CARD -->
      <div class="card-promocao">
        <img src="produto/anel-masculino1.png">
        <h3>Anel de Prata Luxo</h3>
        <p class="preco-antigo">12.000 Kz</p>
        <p class="preco-novo">8.500 Kz</p>
        <a href="detalhe-produto.html" class="btn-ver" data-produto="Anel de Prata Luxo">Ver Oferta</a>
      </div>

      <div class="card-promocao">
        <img src="produto/casal.png">
        <h3>Bracelete Premium</h3>
        <p class="preco-antigo">15.000 Kz</p>
        <p class="preco-novo">10.900 Kz</p>
        <a href="detalhe-produto.html" class="btn-ver" data-produto="Bracelete Premium">Ver Oferta</a>
      </div>

      <div class="card-promocao">
        <img src="produto/pulseira-femina.png">
        <h3>Colar Elegance</h3>
        <p class="preco-antigo">18.000 Kz</p>
        <p class="preco-novo">13.200 Kz</p>
        <a href="detalhe-produto.html" class="btn-ver" data-produto="Colar Elegance">Ver Oferta</a>
      </div>

       <div class="card-promocao">
        <img src="produto/pulseira-femina.png">
        <h3>Pulseira Feminina Elegante</h3>
        <p class="preco-antigo">18.000 Kz</p>
        <p class="preco-novo">13.200 Kz</p>
        <a href="detalhe-produto.html" class="btn-ver" data-produto="pulseiras-Mulheres">Ver Oferta</a>
      </div>

    </div>
  </main>

   <footer>
    <div class="social">
      <h3>Visite e sinta-se especial nas nossas redes</h3>
      <div class="social-icons">
        <a href="https://www.instagram.com/universodaprata.joelpratarias/" target="_blank"><img src="instagram.png" alt="Instagram"></a>
        <a href="https://www.facebook.com/profile.php?id=100067343702649" target="_blank"><img src="facebook.png" alt="Facebook"></a>
        <a href="#"><img src="tiktok.png" alt="TikTok"></a>
        <a href="#"><img src="x.png" alt="X"></a>
      </div>
    </div>
    <p style="margin-top: 20px;">&copy; 2026 Universo da Prata. Todos os direitos reservados.</p>
  </footer>

  <script src="scripts/menu.js"></script>
  <script src="scripts/stars.js"></script>
  <script src="scripts/promocoes.js"></script>
  <!-- Modal de autenticação (Login / Cadastro) -->
  <div id="auth-modal" class="auth-modal" style="display:none;">
    <div class="auth-modal-content">
      <button id="auth-close" class="auth-close">✕</button>
      <div class="auth-tabs">
        <button id="tab-login" class="active">Entrar</button>
        <button id="tab-signup">Criar conta</button>
      </div>

      <div id="auth-messages" style="color:crimson;margin:8px 0"></div>

      <form id="login-form" class="auth-form">
        <label>Email</label>
        <input type="email" id="login-email" required />
        <label>Senha</label>
        <input type="password" id="login-password" required />
        <button type="submit">Entrar</button>
      </form>

      <form id="signup-form" class="auth-form" style="display:none;">
        <label>Nome completo</label>
        <input type="text" id="signup-name" />
        <label>Email</label>
        <input type="email" id="signup-email" required />
        <label>Senha</label>
        <input type="password" id="signup-password" required />
        <button type="submit">Criar Conta</button>
      </form>

      <div id="auth-footer" style="margin-top:12px;">
        <button id="signout-btn" style="display:none;">Sair</button>
      </div>
    </div>
  </div>
</body>
</html>
